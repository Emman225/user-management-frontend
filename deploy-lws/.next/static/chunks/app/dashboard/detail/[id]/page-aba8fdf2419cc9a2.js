(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{1764:(e,s,l)=>{Promise.resolve().then(l.bind(l,7800))},7800:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>f});var r=l(5155),t=l(2115),a=l(285),i=l(7550),n=l(5695),d=l(5060),c=l(4615),o=l(6821),x=l(983),m=l(3464),u=l(638);l(4752);let h=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2);function j(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),l=e.id,[x,j]=(0,t.useState)(null),[f,p]=(0,t.useState)(!0),[g,b]=(0,t.useState)(null);return((0,t.useRef)(),(0,t.useEffect)(()=>{(async()=>{try{p(!0);let e=sessionStorage.getItem("token");if(!e)return void s.push("/login");let r=await m.A.get((0,u.e9)("/users/".concat(l)),{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});r.data&&!0===r.data.status&&r.data.data?j(r.data.data):b("Utilisateur non trouv\xe9")}catch(l){var e,r;console.error("Erreur lors du chargement de l'utilisateur:",l),(null==(e=l.response)?void 0:e.status)===401||(null==(r=l.response)?void 0:r.status)===403?(sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),s.push("/login")):b("Erreur lors du chargement des donn\xe9es")}finally{p(!1)}})()},[l,s]),f)?(0,r.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,r.jsx)(d.A,{}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),(0,r.jsx)(o.A,{})]})]}):g||!x?(0,r.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,r.jsx)(d.A,{}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("main",{className:"flex-1 p-6 overflow-auto flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Erreur"}),(0,r.jsx)("p",{className:"text-gray-600",children:g||"Utilisateur non trouv\xe9"}),(0,r.jsx)(a.$,{onClick:()=>s.push("/dashboard"),className:"mt-4",children:"Retour \xe0 la liste"})]})}),(0,r.jsx)(o.A,{})]})]}):(0,r.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,r.jsx)(d.A,{}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:(0,r.jsxs)(t.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4 px-10",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-blue-700",children:"D\xe9tails de l'utilisateur"}),(0,r.jsxs)(a.$,{variant:"outline",onClick:()=>s.push("/dashboard"),className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{size:16}),"Retour \xe0 la liste"]})]}),(0,r.jsxs)("div",{className:"mx-auto max-w-6xl px-2 sm:px-4 md:px-8 pt-8 pb-2",children:[(0,r.jsxs)("div",{className:"bg-white border rounded-xl p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Informations personnelles"}),(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-4",children:"Informations de base"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:x.profile_photo_url?(0,r.jsx)("img",{src:x.profile_photo_url,alt:x.name,className:"w-16 h-16 rounded-full border object-cover"}):(0,r.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center text-lg font-bold text-gray-600",children:h(x.name)})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Nom complet:"})," ",x.name]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",x.email]})})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"R\xf4le:"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ml-2 ".concat("admin"===x.role?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"),children:x.role})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Statut:"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ml-2 ".concat(1===x.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:1===x.active?"Actif":"Inactif"})]})})]})]}),(0,r.jsxs)("div",{className:"bg-white border rounded-xl p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Informations suppl\xe9mentaires"}),(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-4",children:"D\xe9tails compl\xe9mentaires"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email v\xe9rifi\xe9:"})," ",x.email_verified_at?"Oui":"Non"]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Date de cr\xe9ation:"})," ",new Date(x.created_at).toLocaleDateString("fr-FR")]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Derni\xe8re modification:"})," ",new Date(x.updated_at).toLocaleDateString("fr-FR")]})})]})]}),x.profile_photo_url&&(0,r.jsxs)("div",{className:"bg-white border rounded-xl p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Photo de profil"}),(0,r.jsx)("div",{className:"text-muted-foreground text-xs mb-4",children:"Photo actuelle de l'utilisateur"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("img",{src:x.profile_photo_url,alt:x.name,className:"w-32 h-32 rounded-full border object-cover"})})]})]})]})}),(0,r.jsx)(o.A,{})]})]})}function f(){return(0,r.jsx)(x.A,{children:(0,r.jsx)(j,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[320,659,728,441,684,358],()=>s(1764)),_N_E=e.O()}]);