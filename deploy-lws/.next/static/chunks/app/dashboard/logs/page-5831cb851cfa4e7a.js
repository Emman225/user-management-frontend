(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{172:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var r=s(5155),a=s(2115),n=s(9946);let l=(0,n.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var i=s(3717),o=s(2525);let c=(0,n.A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),d=(0,n.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),u=(0,n.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),x=(0,n.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=s(1788);let h=(0,n.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),g=(0,n.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),p=(0,n.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),f=(0,n.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),y=(0,n.A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),v=(0,n.A)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var j=s(285),b=s(8735),N=s(3464),w=s(638);let E={POST_API_LOGIN:"POST_API/LOGIN",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILED:"LOGIN_FAILED",POST_API_USERS:"POST_API/USERS",USER_CREATE:"USER_CREATE",USER_UPDATE:"USER_UPDATE",USER_DELETE:"USER_DELETE",USER_VIEW:"USER_VIEW",SYSTEM:"SYSTEM"},k={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"};function A(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[A,S]=(0,a.useState)({action:"",search:"",startDate:"",endDate:"",userId:"",method:""}),[_,T]=(0,a.useState)(!0),[L,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{console.log("Donn\xe9es utilisateur dans sessionStorage:",sessionStorage.getItem("user"));let e=(0,b._m)("admin");console.log("Permissions admin:",e),C(e),D()},[]),(0,a.useEffect)(()=>{I()},[e,A]);let D=async()=>{T(!0);try{let e=sessionStorage.getItem("token");if(!e){console.error("Aucun token trouv\xe9"),T(!1);return}let s=(0,w.e9)("/logs");console.log("URL de l'API:",s),console.log("Token d'authentification:",e);let r=await N.A.get(s,{headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}});if(console.log("Logs r\xe9cup\xe9r\xe9s:",r.data),r.data&&!0===r.data.status&&Array.isArray(r.data.data.logs)){let e=r.data.data.logs.sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());t(e)}else console.error("Format de r\xe9ponse inattendu:",r.data),t([])}catch(e){console.error("Erreur lors du chargement des logs:",e),t([])}finally{T(!1)}},I=()=>{let t=[...e];if(A.action&&(t=t.filter(e=>e.action===A.action)),A.method&&(t=t.filter(e=>e.method===A.method)),A.search){let e=A.search.toLowerCase();t=t.filter(t=>t.message.toLowerCase().includes(e)||t.user_email.toLowerCase().includes(e)||t.ip_address.toLowerCase().includes(e)||t.context&&JSON.stringify(t.context).toLowerCase().includes(e))}if(A.startDate){let e=new Date(A.startDate);t=t.filter(t=>new Date(t.timestamp)>=e)}if(A.endDate){let e=new Date(A.endDate);e.setHours(23,59,59,999),t=t.filter(t=>new Date(t.timestamp)<=e)}n(t)},U=(e,t)=>{S(s=>({...s,[e]:t}))},R=e=>{switch(e){case E.USER_CREATE:return(0,r.jsx)(l,{size:16,className:"text-green-600"});case E.USER_UPDATE:return(0,r.jsx)(i.A,{size:16,className:"text-blue-600"});case E.USER_DELETE:return(0,r.jsx)(o.A,{size:16,className:"text-red-600"});case E.POST_API_LOGIN:case E.LOGIN_SUCCESS:case E.LOGIN_FAILED:return(0,r.jsx)(c,{size:16,className:"text-purple-600"});case E.POST_API_USERS:return(0,r.jsx)(d,{size:16,className:"text-orange-600"});default:return(0,r.jsx)(u,{size:16,className:"text-gray-600"})}},P=e=>{let t="px-2 py-1 rounded-full text-xs font-medium";switch(e){case"GET":return(0,r.jsx)("span",{className:"".concat(t," bg-green-100 text-green-700"),children:"GET"});case"POST":return(0,r.jsx)("span",{className:"".concat(t," bg-blue-100 text-blue-700"),children:"POST"});case"PUT":return(0,r.jsx)("span",{className:"".concat(t," bg-yellow-100 text-yellow-700"),children:"PUT"});case"DELETE":return(0,r.jsx)("span",{className:"".concat(t," bg-red-100 text-red-700"),children:"DELETE"});default:return(0,r.jsx)("span",{className:"".concat(t," bg-gray-100 text-gray-700"),children:e})}},O=e=>({[E.POST_API_LOGIN]:"Requ\xeate Login API",[E.LOGIN_SUCCESS]:"Connexion r\xe9ussie",[E.LOGIN_FAILED]:"\xc9chec connexion",[E.POST_API_USERS]:"Requ\xeate Utilisateurs API",[E.USER_CREATE]:"Cr\xe9ation utilisateur",[E.USER_UPDATE]:"Modification utilisateur",[E.USER_DELETE]:"Suppression utilisateur",[E.USER_VIEW]:"Consultation utilisateur",[E.SYSTEM]:"Syst\xe8me"})[e]||e,z=e=>{if(e&&e.status_code){let t=e.status_code;if(t>=200&&t<300)return(0,r.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:["✓ ",t]});if(t>=400&&t<500)return(0,r.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:["⚠ ",t]});if(t>=500)return(0,r.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:["✗ ",t]})}return null};return L?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,r.jsx)("div",{className:"p-6 border-b",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Historique des Actions"}),(0,r.jsxs)("p",{className:"text-gray-600 mt-1",children:[s.length," log",1!==s.length?"s":""," trouv\xe9",1!==s.length?"s":""]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,r.jsxs)(j.$,{variant:"outline",onClick:D,className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{size:16}),"Actualiser"]})})]})}),(0,r.jsxs)("div",{className:"p-6 border-b bg-gray-50",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher...",className:"w-full pl-10 pr-3 py-2 border rounded-md text-sm",value:A.search,onChange:e=>U("search",e.target.value)})]}),(0,r.jsxs)("select",{className:"border rounded px-3 py-2 text-sm",value:A.action,onChange:e=>U("action",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Toutes les actions"}),Object.values(E).map(e=>(0,r.jsx)("option",{value:e,children:O(e)},e))]}),(0,r.jsxs)("select",{className:"border rounded px-3 py-2 text-sm",value:A.method,onChange:e=>U("method",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Toutes les m\xe9thodes"}),Object.values(k).map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(g,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"date",className:"w-full pl-10 pr-3 py-2 border rounded-md text-sm",value:A.startDate,onChange:e=>U("startDate",e.target.value)})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(g,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"date",className:"w-full pl-10 pr-3 py-2 border rounded-md text-sm",value:A.endDate,onChange:e=>U("endDate",e.target.value)})]})]}),(A.action||A.method||A.search||A.startDate||A.endDate)&&(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,r.jsx)(p,{size:16,className:"text-gray-400"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Filtres actifs"}),(0,r.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>{S({action:"",search:"",startDate:"",endDate:"",userId:"",method:""})},className:"text-blue-600 hover:text-blue-700",children:"Tout effacer"})]})]}),(0,r.jsx)("div",{className:"p-6",children:_?(0,r.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(u,{size:48,className:"mx-auto text-gray-400 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun log trouv\xe9"}),(0,r.jsx)("p",{className:"text-gray-600",children:0===e.length?"Aucune action n'a encore \xe9t\xe9 enregistr\xe9e.":"Aucun log ne correspond \xe0 vos crit\xe8res de recherche."})]}):(0,r.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>(0,r.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[R(e.action),(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:O(e.action)}),P(e.method),z(e.context)]}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,r.jsx)("p",{className:"text-gray-800 mb-3",children:e.message}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-3",children:[e.user_email&&"anonymous"!==e.user_email&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(f,{size:14}),e.user_email]}),e.user_id&&"guest"!==e.user_id&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(d,{size:14}),"ID: ",e.user_id]}),e.ip_address&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(y,{size:14}),e.ip_address]}),e.user_agent&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(v,{size:14}),e.user_agent.length>30?"".concat(e.user_agent.substring(0,30),"..."):e.user_agent]})]}),e.context&&Object.keys(e.context).length>0&&(0,r.jsxs)("details",{className:"mt-2",children:[(0,r.jsx)("summary",{className:"text-sm text-blue-600 cursor-pointer hover:text-blue-700",children:"D\xe9tails techniques"}),(0,r.jsx)("pre",{className:"mt-2 p-3 bg-gray-100 rounded text-xs overflow-x-auto",children:JSON.stringify(e.context,null,2)})]})]},"".concat(e.timestamp,"-").concat(t)))})})]}):(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 text-center",children:[(0,r.jsx)(x,{size:48,className:"mx-auto text-yellow-500 mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Acc\xe8s restreint"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Vous n'avez pas les permissions n\xe9cessaires pour acc\xe9der aux logs."})]})}var S=s(5060),_=s(4615),T=s(6821),L=s(983);let C=()=>(0,r.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,r.jsx)(S.A,{}),(0,r.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,r.jsx)(_.A,{}),(0,r.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:(0,r.jsx)("div",{className:"container mx-auto",children:(0,r.jsx)(A,{})})}),(0,r.jsx)(T.A,{})]})]});function D(){return(0,r.jsx)(L.A,{children:(0,r.jsx)(C,{})})}},285:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(5155);let a=s(2115).forwardRef((e,t)=>{let{className:s="",variant:a="default",size:n="default",children:l,...i}=e;return(0,r.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background"," ").concat({default:"bg-primary text-primary-foreground hover:bg-primary/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[a]," ").concat({default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[n]," ").concat(s),ref:t,...i,children:l})});a.displayName="Button"},638:(e,t,s)=>{"use strict";s.d(t,{e9:()=>a}),s(9509);let r={apiUrl:"http://192.168.5.195:8283/api"},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.apiUrl.replace(/\/$/,"");if(console.log("Base URL de l'API:",t),!e)return t;let s=e.replace(/^\//,"");return"".concat(t,"/").concat(s)}},983:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(5155),a=s(2115),n=s(5695);function l(e){let{children:t}=e,s=(0,n.useRouter)(),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{sessionStorage.getItem("token")?(i(!0),c(!1)):(console.error("❌ Aucun token trouv\xe9 - Redirection vers login"),s.push("/login"))},[s]),o)?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l?t:null}},1788:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3717:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4615:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),a=s(2115),n=s(5695),l=s(6766),i=s(638);function o(){let[e,t]=(0,a.useState)(!1),[s,o]=(0,a.useState)("Utilisateur"),[c,d]=(0,a.useState)("/profile.png"),u=(0,a.useRef)(null),x=(0,n.useRouter)();(0,a.useEffect)(()=>{try{let e=sessionStorage.getItem("user");if(e){let t=JSON.parse(e);o(t.name||"Utilisateur"),d(t.profile_photo_url||"/profile.png")}}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur:",e)}},[]),(0,a.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&t(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let m=async e=>{e.preventDefault();try{let e=sessionStorage.getItem("token"),t=await fetch((0,i.e9)("/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json","Content-Type":"application/json"}}),s=await t.json();!0===s.status?console.log("D\xe9connexion r\xe9ussie:",s.message):console.error("Erreur lors de la d\xe9connexion:",s.message)}catch(e){console.error("Erreur lors de la d\xe9connexion :",e)}finally{sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),x.push("/login")}};return(0,r.jsxs)("header",{className:"bg-[#3a57e8] text-white flex items-center justify-end h-16 px-4 border-b border-gray-200 rounded-bl-lg",children:[(0,r.jsx)("button",{className:"md:hidden text-gray-600 focus:outline-none mr-4","aria-label":"Toggle sidebar",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)("div",{className:"relative",ref:u,children:[(0,r.jsxs)("button",{onClick:()=>t(!e),className:"flex items-center gap-2 focus:outline-none","aria-haspopup":"true","aria-expanded":e,children:[(0,r.jsx)(l.default,{src:c,alt:"Profil",width:40,height:40,className:"h-10 rounded-full object-cover"}),(0,r.jsx)("span",{className:"text-white font-medium",children:s}),(0,r.jsx)("svg",{className:"w-4 h-4 text-white transition-transform duration-200 ".concat(e?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded shadow-lg z-10",children:(0,r.jsxs)("a",{href:"#",onClick:m,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-100",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),"D\xe9connexion"]})})]})]})}},5060:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(5155),a=s(2115),n=s(5695),l=s(6766),i=s(8735);let o=[{title:"Dashboard",icon:"<svg class='w-4 h-4' fill='none' stroke='currentColor' strokeWidth='2' viewBox='0 0 24 24'><path d='M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8v-10h-8v10zm0-18v6h8V3h-8z'/></svg>",link:"/dashboard"},{title:"Journal",icon:"<svg class='w-4 h-4' fill='none' stroke='currentColor' strokeWidth='2' viewBox='0 0 24 24'><path d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'/></svg>",link:"/dashboard/logs",requiredRole:"admin"}];function c(){let e=(0,n.usePathname)(),t=(0,n.useRouter)(),[s,c]=(0,a.useState)(!1),d=s=>{s!==e&&(c(!0),t.push(s))};return(0,r.jsxs)("aside",{className:"bg-gray-900 text-gray-300 w-56 flex flex-col font-sans border-r border-gray-200 min-h-screen rounded-tr-lg rounded-br-lg",children:[(0,r.jsx)("div",{className:"flex items-center justify-center h-16 border-b border-gray-700 px-4",children:(0,r.jsx)(l.default,{src:"/logo.png",alt:"User Management",width:48,height:48,className:"h-12 w-auto object-contain"})}),s&&(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50",children:(0,r.jsx)("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-12 w-12"})}),(0,r.jsx)("nav",{className:"flex-1 overflow-y-auto p-2",children:(0,r.jsx)("ul",{className:"space-y-1",children:o.map((t,s)=>!t.requiredRole||(0,i._m)(t.requiredRole)?(0,r.jsx)("li",{children:t.link&&(0,r.jsxs)("button",{onClick:()=>d(t.link),className:"flex items-center w-full text-left rounded px-2 py-2 gap-2 focus:outline-none ".concat(e===t.link?"font-bold bg-[#f0f3ff] text-[#3a57e8]":"hover:bg-[#f0f3ff] hover:text-[#3a57e8]"),children:[(0,r.jsx)("span",{className:"icon-sidebar",dangerouslySetInnerHTML:{__html:t.icon}}),(0,r.jsx)("span",{className:"text-sm",children:t.title})]})},s):null)})}),(0,r.jsx)("style",{children:"\n        .loader {\n          border-top-color: #3a57e8;\n          animation: spinner 1.5s linear infinite;\n        }\n        @keyframes spinner {\n          to { transform: rotate(360deg); }\n        }\n      "})]})}},6821:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(5155);function a(){return(0,r.jsxs)("footer",{className:"flex justify-between items-center h-12 px-6 bg-white border-t border-gray-200 text-xs text-gray-600 select-none",children:[(0,r.jsx)("div",{children:"2025 \xa9 USER-MANAGEMENT."}),(0,r.jsx)("div",{children:"Con\xe7u par LCI"})]})}},7297:(e,t,s)=>{Promise.resolve().then(s.bind(s,172))},8735:(e,t,s)=>{"use strict";s.d(t,{_m:()=>a});let r=()=>{try{let e=sessionStorage.getItem("user");if(!e)return null;return JSON.parse(e).role||null}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration du r\xf4le:",e),null}},a=e=>{let t=r();return!!t&&(Array.isArray(e)?e.includes(t):t===e)}},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:s,strokeWidth:l?24*Number(n)/Number(a):n,className:i("lucide",d),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...x.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:o,...c}=s;return(0,r.createElement)(d,{ref:n,iconNode:t,className:i("lucide-".concat(a(l(e))),"lucide-".concat(e),o),...c})});return s.displayName=l(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[659,441,684,358],()=>t(7297)),_N_E=e.O()}]);