"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728],{285:(e,r,t)=>{t.d(r,{$:()=>o});var n=t(5155);let o=t(2115).forwardRef((e,r)=>{let{className:t="",variant:o="default",size:s="default",children:a,...l}=e;return(0,n.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background"," ").concat({default:"bg-primary text-primary-foreground hover:bg-primary/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[o]," ").concat({default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[s]," ").concat(t),ref:r,...l,children:a})});o.displayName="Button"},638:(e,r,t)=>{t.d(r,{e9:()=>o}),t(9509);let n={apiUrl:"http://192.168.5.195:8283/api"},o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=n.apiUrl.replace(/\/$/,"");if(console.log("Base URL de l'API:",r),!e)return r;let t=e.replace(/^\//,"");return"".concat(r,"/").concat(t)}},983:(e,r,t)=>{t.d(r,{A:()=>a});var n=t(5155),o=t(2115),s=t(5695);function a(e){let{children:r}=e,t=(0,s.useRouter)(),[a,l]=(0,o.useState)(!1),[i,c]=(0,o.useState)(!0);return((0,o.useEffect)(()=>{sessionStorage.getItem("token")?(l(!0),c(!1)):(console.error("❌ Aucun token trouv\xe9 - Redirection vers login"),t.push("/login"))},[t]),i)?(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a?r:null}},4615:(e,r,t)=>{t.d(r,{A:()=>i});var n=t(5155),o=t(2115),s=t(5695),a=t(6766),l=t(638);function i(){let[e,r]=(0,o.useState)(!1),[t,i]=(0,o.useState)("Utilisateur"),[c,d]=(0,o.useState)("/profile.png"),u=(0,o.useRef)(null),h=(0,s.useRouter)();(0,o.useEffect)(()=>{try{let e=sessionStorage.getItem("user");if(e){let r=JSON.parse(e);i(r.name||"Utilisateur"),d(r.profile_photo_url||"/profile.png")}}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des informations utilisateur:",e)}},[]),(0,o.useEffect)(()=>{function e(e){u.current&&!u.current.contains(e.target)&&r(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let f=async e=>{e.preventDefault();try{let e=sessionStorage.getItem("token"),r=await fetch((0,l.e9)("/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json","Content-Type":"application/json"}}),t=await r.json();!0===t.status?console.log("D\xe9connexion r\xe9ussie:",t.message):console.error("Erreur lors de la d\xe9connexion:",t.message)}catch(e){console.error("Erreur lors de la d\xe9connexion :",e)}finally{sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),h.push("/login")}};return(0,n.jsxs)("header",{className:"bg-[#3a57e8] text-white flex items-center justify-end h-16 px-4 border-b border-gray-200 rounded-bl-lg",children:[(0,n.jsx)("button",{className:"md:hidden text-gray-600 focus:outline-none mr-4","aria-label":"Toggle sidebar",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,n.jsxs)("div",{className:"relative",ref:u,children:[(0,n.jsxs)("button",{onClick:()=>r(!e),className:"flex items-center gap-2 focus:outline-none","aria-haspopup":"true","aria-expanded":e,children:[(0,n.jsx)(a.default,{src:c,alt:"Profil",width:40,height:40,className:"h-10 rounded-full object-cover"}),(0,n.jsx)("span",{className:"text-white font-medium",children:t}),(0,n.jsx)("svg",{className:"w-4 h-4 text-white transition-transform duration-200 ".concat(e?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&(0,n.jsx)("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded shadow-lg z-10",children:(0,n.jsxs)("a",{href:"#",onClick:f,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-100",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),"D\xe9connexion"]})})]})]})}},5060:(e,r,t)=>{t.d(r,{A:()=>c});var n=t(5155),o=t(2115),s=t(5695),a=t(6766),l=t(8735);let i=[{title:"Dashboard",icon:"<svg class='w-4 h-4' fill='none' stroke='currentColor' strokeWidth='2' viewBox='0 0 24 24'><path d='M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8v-10h-8v10zm0-18v6h8V3h-8z'/></svg>",link:"/dashboard"},{title:"Journal",icon:"<svg class='w-4 h-4' fill='none' stroke='currentColor' strokeWidth='2' viewBox='0 0 24 24'><path d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'/></svg>",link:"/dashboard/logs",requiredRole:"admin"}];function c(){let e=(0,s.usePathname)(),r=(0,s.useRouter)(),[t,c]=(0,o.useState)(!1),d=t=>{t!==e&&(c(!0),r.push(t))};return(0,n.jsxs)("aside",{className:"bg-gray-900 text-gray-300 w-56 flex flex-col font-sans border-r border-gray-200 min-h-screen rounded-tr-lg rounded-br-lg",children:[(0,n.jsx)("div",{className:"flex items-center justify-center h-16 border-b border-gray-700 px-4",children:(0,n.jsx)(a.default,{src:"/logo.png",alt:"User Management",width:48,height:48,className:"h-12 w-auto object-contain"})}),t&&(0,n.jsx)("div",{className:"absolute inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50",children:(0,n.jsx)("div",{className:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-12 w-12"})}),(0,n.jsx)("nav",{className:"flex-1 overflow-y-auto p-2",children:(0,n.jsx)("ul",{className:"space-y-1",children:i.map((r,t)=>!r.requiredRole||(0,l._m)(r.requiredRole)?(0,n.jsx)("li",{children:r.link&&(0,n.jsxs)("button",{onClick:()=>d(r.link),className:"flex items-center w-full text-left rounded px-2 py-2 gap-2 focus:outline-none ".concat(e===r.link?"font-bold bg-[#f0f3ff] text-[#3a57e8]":"hover:bg-[#f0f3ff] hover:text-[#3a57e8]"),children:[(0,n.jsx)("span",{className:"icon-sidebar",dangerouslySetInnerHTML:{__html:r.icon}}),(0,n.jsx)("span",{className:"text-sm",children:r.title})]})},t):null)})}),(0,n.jsx)("style",{children:"\n        .loader {\n          border-top-color: #3a57e8;\n          animation: spinner 1.5s linear infinite;\n        }\n        @keyframes spinner {\n          to { transform: rotate(360deg); }\n        }\n      "})]})}},6821:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(5155);function o(){return(0,n.jsxs)("footer",{className:"flex justify-between items-center h-12 px-6 bg-white border-t border-gray-200 text-xs text-gray-600 select-none",children:[(0,n.jsx)("div",{children:"2025 \xa9 USER-MANAGEMENT."}),(0,n.jsx)("div",{children:"Con\xe7u par LCI"})]})}},7550:(e,r,t)=>{t.d(r,{A:()=>n});let n=(0,t(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8735:(e,r,t)=>{t.d(r,{_m:()=>o});let n=()=>{try{let e=sessionStorage.getItem("user");if(!e)return null;return JSON.parse(e).role||null}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration du r\xf4le:",e),null}},o=e=>{let r=n();return!!r&&(Array.isArray(e)?e.includes(r):r===e)}},9946:(e,r,t)=>{t.d(r,{A:()=>u});var n=t(2115);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),a=e=>{let r=s(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},i=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,r)=>{let{color:t="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:d="",children:u,iconNode:h,...f}=e;return(0,n.createElement)("svg",{ref:r,...c,width:o,height:o,stroke:t,strokeWidth:a?24*Number(s)/Number(o):s,className:l("lucide",d),...!u&&!i(f)&&{"aria-hidden":"true"},...f},[...h.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,n.forwardRef)((t,s)=>{let{className:i,...c}=t;return(0,n.createElement)(d,{ref:s,iconNode:r,className:l("lucide-".concat(o(a(e))),"lucide-".concat(e),i),...c})});return t.displayName=a(e),t}}}]);