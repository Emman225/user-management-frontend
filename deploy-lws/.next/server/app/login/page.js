(()=>{var e={};e.id=520,e.ids=[520],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11219:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},11905:()=>{},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},48171:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},53133:(e,r,t)=>{Promise.resolve().then(t.bind(t,69488))},53360:(e,r,t)=>{"use strict";t.d(r,{e9:()=>i});let s=["NEXT_PUBLIC_API_URL"],n={apiUrl:"http://192.168.5.195:8283/api"};(()=>{let e=s.filter(e=>!process.env[e]);if(e.length>0)throw Error(`Variables d'environnement manquantes: ${e.join(", ")}. Veuillez les d\xe9finir dans votre fichier .env.local`)})();let i=(e="")=>{let r=n.apiUrl.replace(/\/$/,"");if(console.log("Base URL de l'API:",r),!e)return r;let t=e.replace(/^\//,"");return`${r}/${t}`}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63379:()=>{},69488:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(60687),n=t(30474),i=t(16189),o=t(43210),a=t(77567),l=t(51060),d=t(53360);function c(){let e=(0,i.useRouter)(),[r,t]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),[m,p]=(0,o.useState)(!1),x=async t=>{t.preventDefault(),p(!0);try{let{data:t}=await l.A.post((0,d.e9)("/login"),{email:r,password:c});t.status&&t.data&&t.data.token?(sessionStorage.setItem("token",t.data.token),sessionStorage.setItem("user",JSON.stringify(t.data.user)),e.push("/dashboard")):a.A.fire({icon:"error",title:"Erreur de connexion",text:t.message||"Erreur lors de la connexion"})}catch(r){let e="Erreur lors de la connexion";if("object"==typeof r&&null!==r&&"response"in r){if(r.response){let{status:t,data:s}=r.response;if("object"==typeof s&&null!==s&&"message"in s)switch(t){case 401:e=s.message||"Email ou mot de passe incorrect";break;case 403:e=s.message||"Votre compte est d\xe9sactiv\xe9. Contactez l'administrateur.";break;case 422:e=s.message||"Erreur de validation des donn\xe9es",s.errors&&(e+=": "+Object.values(s.errors).flat().join(", "));break;case 500:e="Erreur interne du serveur. Veuillez r\xe9essayer plus tard.";break;default:e=s.message||"Erreur de connexion"}else switch(t){case 401:e="Email ou mot de passe incorrect";break;case 403:e="Votre compte est d\xe9sactiv\xe9. Contactez l'administrateur.";break;case 422:e="Erreur de validation des donn\xe9es";break;case 500:e="Erreur interne du serveur. Veuillez r\xe9essayer plus tard.";break;default:e="Erreur de connexion"}}}else e="object"==typeof r&&null!==r&&"request"in r?"Impossible de se connecter au serveur. V\xe9rifiez votre connexion internet.":"Erreur de configuration de la requ\xeate";a.A.fire({icon:"error",title:"Erreur de connexion",text:e})}finally{p(!1)}};return(0,s.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100 page-bg",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-sm",children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,s.jsx)(n.default,{src:"/logon_EDN_erp.png",alt:"Logo",width:120,height:120,className:"rounded-full"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-center mb-4",children:"Se connecter"}),(0,s.jsxs)("form",{onSubmit:x,className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsx)("input",{type:"email",placeholder:"Entrez votre adresse email",className:"mt-1 block w-full border border-gray-300 rounded-md p-2",value:r,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,s.jsx)("input",{type:"password",placeholder:"Entrez le mot de passe",className:"mt-1 block w-full border border-gray-300 rounded-md p-2",value:c,onChange:e=>u(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"mr-2"}),"Souviens-toi de moi"]}),(0,s.jsx)("a",{href:"#",className:"text-sm text-blue-600",children:"Mot de passe oubli\xe9 ?"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md disabled:bg-blue-400 disabled:cursor-not-allowed",disabled:m,children:m?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion..."]}):"Se connecter"})]}),(0,s.jsx)("div",{className:"text-center mt-4",children:(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Besoin d'un compte ? ",(0,s.jsx)("a",{href:"#",className:"text-blue-600",children:"Inscrivez-vous"})]})})]})})}t(63379)},71693:(e,r,t)=>{Promise.resolve().then(t.bind(t,94934))},74075:e=>{"use strict";e.exports=require("zlib")},76184:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(65239),n=t(48088),i=t(88170),o=t.n(i),a=t(30893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(r,l);let d={children:["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,94934)),"D:\\Doc\\user-management-frontend\\src\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"D:\\Doc\\user-management-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Doc\\user-management-frontend\\src\\app\\login\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94431:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i,metadata:()=>n});var s=t(37413);t(61135);let n={title:"User Management",description:"Application de Gestion des utilisateurs"};function i({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:"antialiased",children:e})})}},94735:e=>{"use strict";e.exports=require("events")},94934:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Doc\\\\user-management-frontend\\\\src\\\\app\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Doc\\user-management-frontend\\src\\app\\login\\page.tsx","default")},98753:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[825,873,567],()=>t(76184));module.exports=s})();